/**
 * easytimer.js
 * Generated: 2022-10-11
 * Version: 4.5.4
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).easytimer={})}(this,(function(t){"use strict";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e,n){var r,o="";if((t="number"==typeof t?String(t):t).length>e)return t;for(r=0;r<e;r+=1)o+=String(n);return(o+t).slice(-o.length)}function i(){this.reset()}function u(){this.events={}}i.prototype.toString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["hours","minutes","seconds"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;t=t||["hours","minutes","seconds"],e=e||":",n=n||2;var r,o=[];for(r=0;r<t.length;r+=1)void 0!==this[t[r]]&&("secondTenths"===t[r]?o.push(this[t[r]]):o.push(s(this[t[r]],n,"0")));return o.join(e)},i.prototype.reset=function(){this.secondTenths=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0},u.prototype.on=function(t,e){var n=this;return Array.isArray(this.events[t])||(this.events[t]=[]),this.events[t].push(e),function(){return n.removeListener(t,e)}},u.prototype.removeListener=function(t,e){if(Array.isArray(this.events[t])){var n=this.events[t].indexOf(e);n>-1&&this.events[t].splice(n,1)}},u.prototype.removeAllListeners=function(t){t?Array.isArray(this.events[t])&&(this.events[t]=[]):this.events={}},u.prototype.emit=function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Array.isArray(this.events[t])&&this.events[t].forEach((function(t){return t.apply(e,r)}))};var c="secondTenths",a="seconds",f="minutes",h="hours",d="days",l=[c,a,f,h,d],p={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},v={secondTenths:10,seconds:60,minutes:60,hours:24};function y(t,e){return(t%e+e)%e}function m(){var t,e,o,s,m,b,g,w,O,T,j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=new i,E=new i,P=new u,S=!1,M=!1,D={},L={detail:{timer:this}};function x(t,e){var n=v[t];E[t]=e,t===d&&"hour"===j.mode?A[t]=Math.abs(0):t===d?A[t]=Math.abs(e):t===h&&"hour"===j.mode?A[t]=Math.abs(24*Math.floor(Math.floor(e/24)/2)+e%24):A[t]=e>=0?y(e,n):y(n-y(e,n))}function V(t){return z(t,d)}function U(t){return z(t,h)}function k(t){return z(t,f)}function I(t){return z(t,a)}function _(t){return z(t,c)}function z(t,e){var n=E[e];return x(e,$(t,p[e])),E[e]!==n}function C(){R(),Q()}function R(){clearInterval(t),t=void 0,S=!1,M=!1}function q(t){dt()?(O=F(),b=tt(m.target)):W(t),B()}function B(){var n=p[e];N(J(Date.now()))||(t=setInterval(G,n),S=!0,M=!1)}function F(){return J(Date.now())-E.secondTenths*p.secondTenths*o}function G(){var t=J(Date.now());K(H()),s(L.detail.timer),N(t)&&(rt(),ft("targetAchieved",L))}function H(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J(Date.now()),e=o>0?t-O:O-t,n={};return n.secondTenths=_(e),n.seconds=I(e),n.minutes=k(e),n.hours=U(e),n.days=V(e),n}function J(t){return Math.floor(t/p[e])*p[e]}function K(t){t.secondTenths&&ft("secondTenthsUpdated",L),t.seconds&&ft("secondsUpdated",L),t.minutes&&ft("minutesUpdated",L),t.hours&&ft("hoursUpdated",L),t.days&&ft("daysUpdated",L)}function N(t){return b instanceof Array&&t>=T}function Q(){A.reset(),E.reset()}function W(t){e=X((t=t||{}).precision),s="function"==typeof t.callback?t.callback:function(){},w=!0===t.countdown,t.mode=t.mode?t.mode:"day",o=!0===w?-1:1,"object"===r(t.startValues)?et(t.startValues):g=null,O=F(),H(),"object"===r(t.target)?b=tt(t.target):w?(t.target={seconds:0},b=tt(t.target)):b=null,D={precision:e,callback:s,countdown:"object"===r(t)&&!0===t.countdown,target:b,startValues:g},m=t}function X(t){if(!Y(t="string"==typeof t?t:a))throw new Error("Error in precision parameter: ".concat(t," is not a valid value"));return t}function Y(t){return l.indexOf(t)>=0}function Z(t){var e;if("object"===r(t))if(t instanceof Array){if(5!==t.length)throw new Error("Array size not valid");e=t}else{for(var n in t)if(l.indexOf(n)<0)throw new Error("Error in startValues or target parameter: ".concat(n," is not a valid input value"));e=[t.secondTenths||0,t.seconds||0,t.minutes||0,t.hours||0,t.days||0]}var o=(e=e.map((function(t){return parseInt(t,10)})))[0],s=e[1]+$(o,10),i=e[2]+$(s,60),u=e[3]+$(i,60),c=e[4]+$(u,24);return e[0]=o,e[1]=s,e[2]=i,e[3]=u,e[4]=c,e}function $(t,e){var n=t/e;return n<0?Math.ceil(n):Math.floor(n)}function tt(t){if(t){var e=nt(b=Z(t));return T=O+e.secondTenths*p.secondTenths*o,b}}function et(t){g=Z(t),A.secondTenths=g[0],A.seconds=g[1],A.minutes=g[2],A.hours=g[3],A.days=g[4],E=nt(g,E)}function nt(t,e){var n=e||{};return n.days=t[4],n.hours=24*n.days+t[3],n.minutes=60*n.hours+t[2],n.seconds=60*n.minutes+t[1],n.secondTenths=10*n.seconds+t[[0]],n}function rt(){C(),ft("stopped",L)}function ot(){C(),q(m),ft("reset",L)}function st(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=n(n({},j),t),ht()||(q(t),ft("started",L))}function it(){R(),M=!0,ft("paused",L)}function ut(t,e){P.on(t,e)}function ct(t,e){P.removeListener(t,e)}function at(t){P.removeAllListeners(t)}function ft(t,e){P.emit(t,e)}function ht(){return S}function dt(){return M}function lt(){return A}function pt(){return E}function vt(){return D}W(j),void 0!==this&&(this.start=st,this.pause=it,this.stop=rt,this.reset=ot,this.isRunning=ht,this.isPaused=dt,this.getTimeValues=lt,this.getTotalTimeValues=pt,this.getConfig=vt,this.addEventListener=ut,this.on=ut,this.removeEventListener=ct,this.removeAllEventListeners=at,this.off=ct)}t.Timer=m,t.default=m,Object.defineProperty(t,"__esModule",{value:!0})}));
